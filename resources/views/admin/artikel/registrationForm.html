<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Pendaftaran dan Hitung Gizi</title>
    <style>
        .form-container {
            max-width: 600px;
            margin: auto;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin-top: 20px;
        }
        .form-container label {
            display: block;
            margin-bottom: 5px;
        }
        .form-container input[type="text"],
        .form-container select,
        .form-container input[type="date"],
        .form-container input[type="number"] {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }
        .form-container button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .form-container button:hover {
            background-color: #45a049;
        }
        .data-saved {
            margin-top: 10px;
            padding: 10px;
            background-color: #f0f0f0;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="form-container">
        <h2>Form Pendaftaran</h2>
        <label for="nama">Nama:</label>
        <input type="text" id="nama" placeholder="Masukkan Nama">

        <label for="jenis_kelamin">Jenis Kelamin:</label>
        <select id="jenis_kelamin">
            <option value="Laki-laki">Laki-laki</option>
            <option value="Perempuan">Perempuan</option>
        </select>

        <label for="tgl_lahir">Tanggal Lahir:</label>
        <input type="date" id="tgl_lahir">

        <button onclick="simpanDataPendaftaran()">Daftar</button>
    </div>

    <div class="data-saved" id="dataSaved" style="display: none;">
        <!-- Tempat untuk menampilkan data pendaftaran yang sudah disimpan -->
    </div>

    <div class="form-container" style="display: none;" id="formHitungGizi">
        <h2>Form Hitung Gizi</h2>
        <label for="tinggi_badan">Tinggi Badan (cm):</label>
        <input type="number" id="tinggi_badan" placeholder="Masukkan Tinggi Badan">

        <label for="berat_badan">Berat Badan (kg):</label>
        <input type="number" id="berat_badan" placeholder="Masukkan Berat Badan">

        <label for="tgl_ukur">Tanggal Pengukuran:</label>
        <input type="date" id="tgl_ukur">

        <button onclick="hitungGizi()">Hitung Gizi</button>
    </div>

    <div class="form-container" style="display: none;" id="hasilGizi">
        <h2>Hasil Hitung Gizi</h2>
        <p id="hasil"></p>
    </div>

    <script>
        // Tabel standar IMT (contoh sederhana, silakan sesuaikan dengan data lengkap)
        let standarImtLakiLaki = {
            13: {
                    0: { "-3": 13.8, "-2": 14.9, "-1": 16.4, 0: 18.2, 1: 20.8, 2: 24.8, 3: 31.7 },
                    1: { "-3": 13.8, "-2": 15.0, "-1": 16.4, 0: 18.3, 1: 20.9, 2: 24.9, 3: 31.8 },
                    2: { "-3": 13.9, "-2": 15.0, "-1": 16.5, 0: 18.4, 1: 21.0, 2: 25.0, 3: 31.9 },
                    3: { "-3": 13.9, "-2": 15.1, "-1": 16.5, 0: 18.4, 1: 21.1, 2: 25.1, 3: 32.1 },
                    4: { "-3": 14.0, "-2": 15.1, "-1": 16.6, 0: 18.5, 1: 21.1, 2: 25.2, 3: 32.2 },
                    5: { "-3": 14.0, "-2": 15.2, "-1": 16.6, 0: 18.6, 1: 21.2, 2: 25.2, 3: 32.3 },
                    6: { "-3": 14.0, "-2": 15.2, "-1": 16.7, 0: 18.6, 1: 21.3, 2: 25.3, 3: 32.4 },
                    7: { "-3": 14.1, "-2": 15.2, "-1": 16.7, 0: 18.7, 1: 21.4, 2: 25.4, 3: 32.6 },
                    8: { "-3": 14.1, "-2": 15.3, "-1": 16.8, 0: 18.7, 1: 21.5, 2: 25.5, 3: 32.7 },
                    9: { "-3": 14.1, "-2": 15.3, "-1": 16.8, 0: 18.8, 1: 21.5, 2: 25.6, 3: 32.8 },
                    10: { "-3": 14.2, "-2": 15.4, "-1": 16.9, 0: 18.9, 1: 21.6, 2: 25.7, 3: 32.9 },
                    11: { "-3": 14.2, "-2": 15.4, "-1": 17.0, 0: 18.9, 1: 21.7, 2: 25.8, 3: 33.0 }
                },
                14: {
                    0: { "-3": 14.0, "-2": 14.3, "-1": 15.5, 0: 17.0, 1: 19.0, 2: 21.8, 3: 25.9 },
                    1: { "-3": 14.0, "-2": 14.3, "-1": 15.5, 0: 17.1, 1: 19.1, 2: 21.8, 3: 26.0 },
                    2: { "-3": 14.0, "-2": 14.3, "-1": 15.6, 0: 17.1, 1: 19.1, 2: 21.9, 3: 26.1 },
                    3: { "-3": 14.0, "-2": 14.4, "-1": 15.6, 0: 17.2, 1: 19.2, 2: 22.0, 3: 26.2 },
                    4: { "-3": 14.0, "-2": 14.4, "-1": 15.7, 0: 17.2, 1: 19.3, 2: 22.1, 3: 26.3 },
                    5: { "-3": 14.1, "-2": 14.5, "-1": 15.7, 0: 17.3, 1: 19.3, 2: 22.2, 3: 26.4 },
                    6: { "-3": 14.1, "-2": 14.5, "-1": 15.7, 0: 17.3, 1: 19.4, 2: 22.2, 3: 26.5 },
                    7: { "-3": 14.1, "-2": 14.5, "-1": 15.8, 0: 17.4, 1: 19.5, 2: 22.3, 3: 26.5 },
                    8: { "-3": 14.2, "-2": 14.6, "-1": 15.8, 0: 17.4, 1: 19.5, 2: 22.4, 3: 26.6 },
                    9: { "-3": 14.2, "-2": 14.6, "-1": 15.9, 0: 17.5, 1: 19.6, 2: 22.5, 3: 26.7 },
                    10: { "-3": 14.2, "-2": 14.6, "-1": 15.9, 0: 17.5, 1: 19.6, 2: 22.5, 3: 26.8 },
                    11: { "-3": 14.3, "-2": 14.7, "-1": 16.0, 0: 17.6, 1: 19.7, 2: 22.6, 3: 26.9 }
                },
                15: {
                    0: { "-3": 14.7, "-2": 16.0, "-1": 17.6, 0: 19.8, 1: 22.7, 2: 27.0, 3: 34.1 },
                    1: { "-3": 14.7, "-2": 16.1, "-1": 17.7, 0: 19.8, 1: 22.8, 2: 27.1, 3: 34.1 },
                    2: { "-3": 14.8, "-2": 16.1, "-1": 17.8, 0: 19.9, 1: 22.8, 2: 27.1, 3: 34.2 },
                    3: { "-3": 14.8, "-2": 16.1, "-1": 17.8, 0: 20.0, 1: 22.9, 2: 27.2, 3: 34.3 },
                    4: { "-3": 14.8, "-2": 16.2, "-1": 17.9, 0: 20.0, 1: 23.0, 2: 27.3, 3: 34.3 },
                    5: { "-3": 14.9, "-2": 16.2, "-1": 17.9, 0: 20.1, 1: 23.0, 2: 27.4, 3: 34.4 },
                    6: { "-3": 14.9, "-2": 16.3, "-1": 18.0, 0: 20.1, 1: 23.1, 2: 27.4, 3: 34.5 },
                    7: { "-3": 15.0, "-2": 16.3, "-1": 18.0, 0: 20.2, 1: 23.2, 2: 27.5, 3: 34.5 },
                    8: { "-3": 15.0, "-2": 16.3, "-1": 18.1, 0: 20.3, 1: 23.3, 2: 27.6, 3: 34.6 },
                    9: { "-3": 15.0, "-2": 16.4, "-1": 18.1, 0: 20.3, 1: 23.3, 2: 27.7, 3: 34.6 },
                    10: { "-3": 15.0, "-2": 16.4, "-1": 18.2, 0: 20.4, 1: 23.4, 2: 27.7, 3: 34.7 },
                    11: { "-3": 15.1, "-2": 16.5, "-1": 18.2, 0: 20.4, 1: 23.5, 2: 27.8, 3: 34.7 }
                },
                16: {
                    0: { "-3": 15.1, "-2": 16.5, "-1": 18.2, 0: 20.5, 1: 23.5, 2: 27.9, 3: 34.8 },
                    1: { "-3": 15.1, "-2": 16.5, "-1": 18.3, 0: 20.6, 1: 23.6, 2: 27.9, 3: 34.8 },
                    2: { "-3": 15.2, "-2": 16.6, "-1": 18.3, 0: 20.6, 1: 23.7, 2: 28.0, 3: 34.8 },
                    3: { "-3": 15.2, "-2": 16.6, "-1": 18.4, 0: 20.7, 1: 23.7, 2: 28.1, 3: 34.9 },
                    4: { "-3": 15.2, "-2": 16.7, "-1": 18.4, 0: 20.7, 1: 23.8, 2: 28.1, 3: 34.9 },
                    5: { "-3": 15.3, "-2": 16.7, "-1": 18.5, 0: 20.8, 1: 23.8, 2: 28.2, 3: 35.0 },
                    6: { "-3": 15.3, "-2": 16.7, "-1": 18.5, 0: 20.8, 1: 23.9, 2: 28.3, 3: 35.0 },
                    7: { "-3": 15.3, "-2": 16.8, "-1": 18.6, 0: 20.9, 1: 24.0, 2: 28.3, 3: 35.0 },
                    8: { "-3": 15.3, "-2": 16.8, "-1": 18.6, 0: 20.9, 1: 24.0, 2: 28.4, 3: 35.1 },
                    9: { "-3": 15.4, "-2": 16.8, "-1": 18.7, 0: 21.0, 1: 24.1, 2: 28.5, 3: 35.1 },
                    10: { "-3": 15.4, "-2": 16.9, "-1": 18.7, 0: 21.0, 1: 24.2, 2: 28.5, 3: 35.1 },
                    11: { "-3": 15.4, "-2": 16.9, "-1": 18.7, 0: 21.1, 1: 24.2, 2: 28.6, 3: 35.2 }
                },
                17: {
                    0: { "-3": 15.4, "-2": 16.9, "-1": 18.8, 0: 21.1, 1: 24.3, 2: 28.6, 3: 35.2 },
                    1: { "-3": 15.5, "-2": 17.0, "-1": 18.8, 0: 21.2, 1: 24.3, 2: 28.7, 3: 35.2 },
                    2: { "-3": 15.5, "-2": 17.0, "-1": 18.9, 0: 21.2, 1: 24.4, 2: 28.7, 3: 35.2 },
                    3: { "-3": 15.5, "-2": 17.0, "-1": 18.9, 0: 21.3, 1: 24.4, 2: 28.8, 3: 35.3 },
                    4: { "-3": 15.5, "-2": 17.1, "-1": 18.9, 0: 21.3, 1: 24.5, 2: 28.9, 3: 35.3 },
                    5: { "-3": 15.6, "-2": 17.1, "-1": 19.0, 0: 21.4, 1: 24.5, 2: 28.9, 3: 35.3 },
                    6: { "-3": 15.6, "-2": 17.1, "-1": 19.0, 0: 21.4, 1: 24.6, 2: 29.0, 3: 35.3 },
                    7: { "-3": 15.6, "-2": 17.1, "-1": 19.1, 0: 21.5, 1: 24.7, 2: 29.0, 3: 35.4 },
                    8: { "-3": 15.6, "-2": 17.2, "-1": 19.1, 0: 21.5, 1: 24.7, 2: 29.1, 3: 35.4 },
                    9: { "-3": 15.6, "-2": 17.2, "-1": 19.1, 0: 21.6, 1: 24.8, 2: 29.1, 3: 35.4 },
                    10: { "-3": 15.7, "-2": 17.2, "-1": 19.2, 0: 21.6, 1: 24.8, 2: 29.2, 3: 35.4 },
                    11: { "-3": 15.7, "-2": 17.3, "-1": 19.2, 0: 21.7, 1: 24.9, 2: 29.2, 3: 35.4 }
                },
                18: {
                    0: { "-3": 15.7, "-2": 17.3, "-1": 19.2, 0: 21.7, 1: 24.9, 2: 29.2, 3: 35.4 },
                    1: { "-3": 15.7, "-2": 17.3, "-1": 19.3, 0: 21.8, 1: 25.0, 2: 29.3, 3: 35.4 },
                    2: { "-3": 15.7, "-2": 17.3, "-1": 19.3, 0: 21.8, 1: 25.0, 2: 29.3, 3: 35.5 },
                    3: { "-3": 15.7, "-2": 17.4, "-1": 19.3, 0: 21.8, 1: 25.1, 2: 29.4, 3: 35.5 },
                    4: { "-3": 15.8, "-2": 17.4, "-1": 19.4, 0: 21.9, 1: 25.1, 2: 29.4, 3: 35.5 },
                    5: { "-3": 15.8, "-2": 17.4, "-1": 19.4, 0: 21.9, 1: 25.1, 2: 29.5, 3: 35.5 },
                    6: { "-3": 15.8, "-2": 17.4, "-1": 19.4, 0: 22.0, 1: 25.2, 2: 29.5, 3: 35.5 },
                    7: { "-3": 15.8, "-2": 17.5, "-1": 19.5, 0: 22.0, 1: 25.2, 2: 29.5, 3: 35.5 },
                    8: { "-3": 15.8, "-2": 17.5, "-1": 19.5, 0: 22.0, 1: 25.3, 2: 29.6, 3: 35.5 },
                    9: { "-3": 15.8, "-2": 17.5, "-1": 19.5, 0: 22.1, 1: 25.3, 2: 29.6, 3: 35.5 },
                    10: { "-3": 15.8, "-2": 17.5, "-1": 19.6, 0: 22.1, 1: 25.4, 2: 29.6, 3: 35.5 },
                    11: { "-3": 15.8, "-2": 17.5, "-1": 19.6, 0: 22.2, 1: 25.4, 2: 29.7, 3: 35.5 }
                },
        };

        let standarImtPerempuan = {
            13: {
                    0: { "-3": 13.6, "-2": 14.9, "-1": 16.6, 0: 18.8, 1: 21.8, 2: 26.2, 3: 33.4 },
                    1: { "-3": 13.6, "-2": 15.0, "-1": 16.7, 0: 18.9, 1: 21.9, 2: 26.3, 3: 33.6 },
                    2: { "-3": 13.7, "-2": 15.0, "-1": 16.7, 0: 18.9, 1: 22.0, 2: 26.4, 3: 33.7 },
                    3: { "-3": 13.7, "-2": 15.1, "-1": 16.8, 0: 19.0, 1: 22.0, 2: 26.5, 3: 33.8 },
                    4: { "-3": 13.8, "-2": 15.1, "-1": 16.8, 0: 19.1, 1: 22.1, 2: 26.6, 3: 33.9 },
                    5: { "-3": 13.8, "-2": 15.2, "-1": 16.9, 0: 19.1, 1: 22.2, 2: 26.7, 3: 34.0 },
                    6: { "-3": 13.8, "-2": 15.2, "-1": 16.9, 0: 19.2, 1: 22.3, 2: 26.8, 3: 34.1 },
                    7: { "-3": 13.9, "-2": 15.2, "-1": 17.0, 0: 19.3, 1: 22.4, 2: 26.9, 3: 34.2 },
                    8: { "-3": 13.9, "-2": 15.3, "-1": 17.0, 0: 19.3, 1: 22.4, 2: 27.0, 3: 34.3 },
                    9: { "-3": 13.9, "-2": 15.3, "-1": 17.1, 0: 19.4, 1: 22.5, 2: 27.1, 3: 34.4 },
                    10: { "-3": 14.0, "-2": 15.4, "-1": 17.1, 0: 19.4, 1: 22.6, 2: 27.1, 3: 34.5 },
                    11: { "-3": 14.0, "-2": 15.4, "-1": 17.2, 0: 19.5, 1: 22.7, 2: 27.2, 3: 34.6 }
                },
                14: {
                    0: { "-3": 14.0, "-2": 15.4, "-1": 17.2, 0: 19.6, 1: 22.7, 2: 27.3, 3: 34.7 },
                    1: { "-3": 14.1, "-2": 15.5, "-1": 17.3, 0: 19.6, 1: 22.8, 2: 27.4, 3: 34.7 },
                    2: { "-3": 14.1, "-2": 15.5, "-1": 17.3, 0: 19.7, 1: 22.9, 2: 27.5, 3: 34.8 },
                    3: { "-3": 14.1, "-2": 15.6, "-1": 17.4, 0: 19.7, 1: 22.9, 2: 27.6, 3: 34.9 },
                    4: { "-3": 14.1, "-2": 15.6, "-1": 17.4, 0: 19.8, 1: 23.0, 2: 27.7, 3: 35.0 },
                    5: { "-3": 14.2, "-2": 15.6, "-1": 17.5, 0: 19.9, 1: 23.1, 2: 27.7, 3: 35.1 },
                    6: { "-3": 14.2, "-2": 15.7, "-1": 17.5, 0: 19.9, 1: 23.1, 2: 27.8, 3: 35.1 },
                    7: { "-3": 14.2, "-2": 15.7, "-1": 17.6, 0: 20.0, 1: 23.2, 2: 27.9, 3: 35.2 },
                    8: { "-3": 14.3, "-2": 15.7, "-1": 17.6, 0: 20.0, 1: 23.3, 2: 28.0, 3: 35.3 },
                    9: { "-3": 14.3, "-2": 15.8, "-1": 17.6, 0: 20.1, 1: 23.3, 2: 28.0, 3: 35.4 },
                    10: { "-3": 14.3, "-2": 15.8, "-1": 17.7, 0: 20.1, 1: 23.4, 2: 28.1, 3: 35.4 },
                    11: { "-3": 14.3, "-2": 15.8, "-1": 17.7, 0: 20.2, 1: 23.5, 2: 28.2, 3: 35.5 }
                },
                15: {
                    0: { "-3": 14.4, "-2": 15.9, "-1": 17.8, 0: 20.2, 1: 23.5, 2: 28.2, 3: 35.5 },
                    1: { "-3": 14.4, "-2": 15.9, "-1": 17.8, 0: 20.3, 1: 23.6, 2: 28.3, 3: 35.6 },
                    2: { "-3": 14.4, "-2": 15.9, "-1": 17.8, 0: 20.3, 1: 23.6, 2: 28.4, 3: 35.7 },
                    3: { "-3": 14.4, "-2": 16.0, "-1": 17.9, 0: 20.4, 1: 23.7, 2: 28.4, 3: 35.7 },
                    4: { "-3": 14.5, "-2": 16.0, "-1": 17.9, 0: 20.4, 1: 23.7, 2: 28.5, 3: 35.8 },
                    5: { "-3": 14.5, "-2": 16.0, "-1": 17.9, 0: 20.4, 1: 23.8, 2: 28.5, 3: 35.8 },
                    6: { "-3": 14.5, "-2": 16.0, "-1": 18.0, 0: 20.5, 1: 23.8, 2: 28.6, 3: 35.8 },
                    7: { "-3": 14.5, "-2": 16.1, "-1": 18.0, 0: 20.5, 1: 23.9, 2: 28.6, 3: 35.9 },
                    8: { "-3": 14.5, "-2": 16.1, "-1": 18.0, 0: 20.6, 1: 23.9, 2: 28.7, 3: 35.9 },
                    9: { "-3": 14.5, "-2": 16.1, "-1": 18.1, 0: 20.6, 1: 24.0, 2: 28.7, 3: 36.0 },
                    10: { "-3": 14.6, "-2": 16.1, "-1": 18.1, 0: 20.6, 1: 24.0, 2: 28.8, 3: 36.0 },
                    11: { "-3": 14.6, "-2": 16.2, "-1": 18.1, 0: 20.7, 1: 24.1, 2: 28.8, 3: 36.0 }
                },
                16: {
                    0: { "-3": 14.6, "-2": 16.2, "-1": 18.2, 0: 20.7, 1: 24.1, 2: 28.9, 3: 36.1 },
                    1: { "-3": 14.6, "-2": 16.2, "-1": 18.2, 0: 20.7, 1: 24.1, 2: 28.9, 3: 36.1 },
                    2: { "-3": 14.6, "-2": 16.2, "-1": 18.2, 0: 20.8, 1: 24.2, 2: 29.0, 3: 36.1 },
                    3: { "-3": 14.6, "-2": 16.2, "-1": 18.2, 0: 20.8, 1: 24.2, 2: 29.0, 3: 36.1 },
                    4: { "-3": 14.6, "-2": 16.2, "-1": 18.3, 0: 20.8, 1: 24.3, 2: 29.0, 3: 36.2 },
                    5: { "-3": 14.6, "-2": 16.3, "-1": 18.3, 0: 20.9, 1: 24.3, 2: 29.1, 3: 36.2 },
                    6: { "-3": 14.7, "-2": 16.3, "-1": 18.3, 0: 20.9, 1: 24.3, 2: 29.1, 3: 36.2 },
                    7: { "-3": 14.7, "-2": 16.3, "-1": 18.3, 0: 20.9, 1: 24.4, 2: 29.1, 3: 36.2 },
                    8: { "-3": 14.7, "-2": 16.3, "-1": 18.3, 0: 20.9, 1: 24.4, 2: 29.2, 3: 36.2 },
                    9: { "-3": 14.7, "-2": 16.3, "-1": 18.4, 0: 21.0, 1: 24.4, 2: 29.2, 3: 36.3 },
                    10: { "-3": 14.7, "-2": 16.3, "-1": 18.4, 0: 21.0, 1: 24.4, 2: 29.2, 3: 36.3 },
                    11: { "-3": 14.7, "-2": 16.3, "-1": 18.4, 0: 21.0, 1: 24.5, 2: 29.3, 3: 36.3 }
                },
                17: {
                    0: { "-3": 14.7, "-2": 16.4, "-1": 18.4, 0: 21.0, 1: 24.5, 2: 29.3, 3: 36.3 },
                    1: { "-3": 14.7, "-2": 16.4, "-1": 18.4, 0: 21.1, 1: 24.5, 2: 29.3, 3: 36.3 },
                    2: { "-3": 14.7, "-2": 16.4, "-1": 18.4, 0: 21.1, 1: 24.6, 2: 29.3, 3: 36.3 },
                    3: { "-3": 14.7, "-2": 16.4, "-1": 18.5, 0: 21.1, 1: 24.6, 2: 29.4, 3: 36.3 },
                    4: { "-3": 14.7, "-2": 16.4, "-1": 18.5, 0: 21.1, 1: 24.6, 2: 29.4, 3: 36.3 },
                    5: { "-3": 14.7, "-2": 16.4, "-1": 18.5, 0: 21.1, 1: 24.6, 2: 29.4, 3: 36.3 },
                    6: { "-3": 14.7, "-2": 16.4, "-1": 18.5, 0: 21.2, 1: 24.6, 2: 29.4, 3: 36.3 },
                    7: { "-3": 14.7, "-2": 16.4, "-1": 18.5, 0: 21.2, 1: 24.7, 2: 29.4, 3: 36.3 },
                    8: { "-3": 14.7, "-2": 16.4, "-1": 18.5, 0: 21.2, 1: 24.7, 2: 29.5, 3: 36.3 },
                    9: { "-3": 14.7, "-2": 16.4, "-1": 18.5, 0: 21.2, 1: 24.7, 2: 29.5, 3: 36.3 },
                    10: { "-3": 14.7, "-2": 16.4, "-1": 18.5, 0: 21.2, 1: 24.7, 2: 29.5, 3: 36.3 },
                    11: { "-3": 14.7, "-2": 16.4, "-1": 18.6, 0: 21.2, 1: 24.8, 2: 29.5, 3: 36.3 }
                },
                18: {
                    0: { "-3": 14.7, "-2": 16.4, "-1": 18.6, 0: 21.3, 1: 24.8, 2: 29.5, 3: 36.3 },
                    1: { "-3": 14.7, "-2": 16.5, "-1": 18.6, 0: 21.3, 1: 24.8, 2: 29.5, 3: 36.3 },
                    2: { "-3": 14.7, "-2": 16.5, "-1": 18.6, 0: 21.3, 1: 24.8, 2: 29.6, 3: 36.3 },
                    3: { "-3": 14.7, "-2": 16.5, "-1": 18.6, 0: 21.3, 1: 24.8, 2: 29.6, 3: 36.3 },
                    4: { "-3": 14.7, "-2": 16.5, "-1": 18.6, 0: 21.3, 1: 24.8, 2: 29.6, 3: 36.3 },
                    5: { "-3": 14.7, "-2": 16.5, "-1": 18.6, 0: 21.3, 1: 24.9, 2: 29.6, 3: 36.2 },
                    6: { "-3": 14.7, "-2": 16.5, "-1": 18.6, 0: 21.3, 1: 24.9, 2: 29.6, 3: 36.2 },
                    7: { "-3": 14.7, "-2": 16.5, "-1": 18.6, 0: 21.4, 1: 24.9, 2: 29.6, 3: 36.2 },
                    8: { "-3": 14.7, "-2": 16.5, "-1": 18.6, 0: 21.4, 1: 24.9, 2: 29.6, 3: 36.2 },
                    9: { "-3": 14.7, "-2": 16.5, "-1": 18.7, 0: 21.4, 1: 24.9, 2: 29.6, 3: 36.2 },
                    10: { "-3": 14.7, "-2": 16.5, "-1": 18.7, 0: 21.4, 1: 24.9, 2: 29.6, 3: 36.2 },
                    11: { "-3": 14.7, "-2": 16.5, "-1": 18.7, 0: 21.4, 1: 25.0, 2: 29.7, 3: 36.2 }
                },
            };
            
            // Simpan data pendaftaran
        let dataPendaftaran = {};

        function simpanDataPendaftaran() {
            let nama = document.getElementById('nama').value;
            let jenisKelamin = document.getElementById('jenis_kelamin').value;
            let tglLahir = document.getElementById('tgl_lahir').value;

            dataPendaftaran = {
                nama: nama,
                jenis_kelamin: jenisKelamin,
                tgl_lahir: tglLahir
            };

            // Menampilkan teks data pendaftaran disimpan
            let dataSaved = document.getElementById('dataSaved');
            dataSaved.innerHTML = `Data pendaftaran disimpan: ${JSON.stringify(dataPendaftaran)}`;
            dataSaved.style.display = 'block';

            document.getElementById('formHitungGizi').style.display = 'block';
        }

        // Hitung Gizi
        function hitungGizi() {
            let tb = parseFloat(document.getElementById('tinggi_badan').value);
            let bb = parseFloat(document.getElementById('berat_badan').value);
            let tgl_ukur = document.getElementById('tgl_ukur').value;

            // Menghitung umur dalam tahun dan bulan
            let today = new Date();
            let tanggalUkur = new Date(tgl_ukur);
            let umur = calculateAge(new Date(dataPendaftaran.tgl_lahir), tanggalUkur);

            // Menghitung IMT
            let imt = bb / ((tb / 100) ** 2);
            let umurTahun = umur.years;
            let umurBulan = umur.months;

            // Menentukan status gizi
            let statusGizi = getStatusGizi(umurTahun, umurBulan, dataPendaftaran.jenis_kelamin, imt);

            // Menampilkan hasil gizi
            let hasilGizi = document.getElementById('hasil');
            hasilGizi.innerHTML = `
                <strong>Nama:</strong> ${dataPendaftaran.nama}<br>
                <strong>Jenis Kelamin:</strong> ${dataPendaftaran.jenis_kelamin}<br>
                <strong>Umur:</strong> ${umurTahun} tahun ${umurBulan} bulan<br>
                <strong>Tinggi Badan:</strong> ${tb} cm<br>
                <strong>Berat Badan:</strong> ${bb} kg<br>
                <strong>IMT:</strong> ${imt.toFixed(2)}<br>
                <strong>Status Gizi:</strong> ${statusGizi}<br>
            `;

            document.getElementById('hasilGizi').style.display = 'block';
        }

        // Fungsi untuk menghitung umur dalam tahun dan bulan
        function calculateAge(dateOfBirth, dateToCalculate) {
            let age = {};
            let ageYear = dateToCalculate.getFullYear() - dateOfBirth.getFullYear();
            let ageMonth = dateToCalculate.getMonth() - dateOfBirth.getMonth();

            if (ageMonth < 0) {
                ageYear--;
                ageMonth += 12;
            }

            age = {
                years: ageYear,
                months: ageMonth
            };

            return age;
        }

        // Fungsi untuk mendapatkan status gizi berdasarkan umur, jenis kelamin, dan IMT
        function getStatusGizi(umurTahun, umurBulan, jenisKelamin, imt) {
            let standarImt;
            if (jenisKelamin === 'Laki-laki') {
                standarImt = standarImtLakiLaki;
            } else {
                standarImt = standarImtPerempuan;
            }

            let umurTahunStr = umurTahun.toString();
            let umurBulanStr = umurBulan.toString();

            if (!(umurTahunStr in standarImt)) {
                return 'Data IMT tidak tersedia untuk umur ini';
            }

            let imtStandar = standarImt[umurTahunStr][umurBulanStr];
            if (!imtStandar) {
                return 'Data IMT tidak tersedia untuk umur ini';
            }

            if (imt < imtStandar['-3']) {
                return 'Gizi Buruk';
            } else if (imt >= imtStandar['-3'] && imt < imtStandar['-2']){
                return 'Gizi Kurang';
            } else if (imt >= imtStandar['-2'] && imt < imtStandar['1']){
                return 'Gizi Baik';
            } else if (imt >= imtStandar['1'] && imt < imtStandar['2']){
                return 'Gizi Lebih';
            } else {
                return 'Obesitas';
            }
        }
    </script>
</body>
</html>
